---
title: "myspotify"
author: "Alexa Pope"
date: "`r Sys.Date()`"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
A package extending the capability of [spotifyr](https://github.com/charlie86/spotifyr) 
by measuring the valence (mood) and popularity of the tracks on the user's specified playlist. This README is derived from Matt Kearney's excellent [rtweet]((https://github.com/mkearney/rtweet)) 
documentation.

## Install

Install from GitHub with the following code:

```{r install, eval = FALSE}
if (!requireNamespace("devtools", quietly = TRUE)) {
  install.packages("devtools")
}
devtools::install_github("alexapope/myspotifymood")
```

First, set up a Dev account with Spotify to access their Web API here. This will give you your Client ID and Client Secret. Once you have those, you can pull your access token into R with get_spotify_access_token().

The easiest way to authenticate is to set your credentials to the System Environment variables SPOTIFY_CLIENT_ID and SPOTIFY_CLIENT_SECRET. The default arguments to get_spotify_access_token() (and all other functions in this package) will refer to those. Alternatively, you can set them manually and make sure to explicitly refer to your access token in each subsequent function call.This authentication process is directly derived from Charlie Thompson's exceptionally detailed [spotifyr] ((https://github.com/charlie86/spotifyr)) authorization documentation. 

## Usage

This is the function that is currently live for myspotifymood. 

To begin, the user must first enter the following code, inserting their keys 
where appropriate:

```{setup instructions, eval = FALSE}
my_spotify_mood = function(username = "", client_id = "", 
                           client_secret = ""){ 
  Sys.setenv(client_id)
  Sys.setenv(client_secret)
  access_token = get_spotify_access_token()
```

Currently, this must be done at the start of every session.

Next, the fun begins with <code>myspotifymood</code>.

Its first argument takes the Spotify user's username and utilizes it to extract 
the user's necessary data.

The second and third argument take the user's Spotify authentication codes from 
the Spotify API (Client ID and Client Secret) in order for the user to be able to
utilize SpotifyR.

The fourth argument determines what playlist the user will be extracting data like tracks and track audio features from. 

```{r usage, eval = FALSE}
## load my_spotify_mood
library(my_spotify_mood)

## Enter Client ID and Secret ID  surrounded by quotation marks
my_spotify_mood(client_id, client_secret, username, personal_playlist)

## Result is a visualization of one's playlist track's valence, genre, and popularity being compared.

```

This function is a work in process but wishes to help it's user get a better understanding of their own music taste in accordance with the already established package by Charlie Thompson, [spotifyr] ((https://github.com/charlie86/spotifyr)). This function cannot be utilized if the user doesn't have a Spotify account, and doesn't go through the authorization process. 
